---
title: Run Agent
description: Execute agents with vm0 run command
---

Use `vm0 run` to execute your agent.

## Usage

```bash
vm0 run <agent-name> "<prompt>"
```

**Examples:**

```bash
# Run latest version
vm0 run my-agent "build a todo app"

# Run specific version
vm0 run my-agent:abc123 "build a todo app"
```

## Options

| Option                      | Description                           |
| --------------------------- | ------------------------------------- |
| `--vars <KEY=value>`        | Pass variables for `${{ vars.xxx }}`  |
| `--secrets <KEY=value>`     | Pass secrets for `${{ secrets.xxx }}` |
| `--artifact-name <name>`    | Use persistent artifact storage       |
| `--artifact-version <hash>` | Use specific artifact version         |

### Passing Variables and Secrets

**Recommended: Store on Platform (one-time setup)**

```bash
vm0 variable set ENV production
vm0 secret set API_KEY sk-xxx
```

Then run your agent - values are automatically loaded:

```bash
vm0 run my-agent "deploy to production"
```

**Alternative: Pass at Runtime**

For CI/CD or temporary overrides, pass values directly:

```bash
vm0 run my-agent "deploy to production" \
  --vars ENV=production \
  --secrets API_KEY=sk-xxx
```

See [Environment Variable](/docs/core-concept/environment-variable) for more details.

### Using Artifacts

```bash
vm0 run my-agent "continue the project" --artifact-name my-project
```

See [Artifact](/docs/core-concept/artifact) for more details.

## Continue a Session

After each run, VM0 outputs a **Session ID** that references the latest conversation and artifact state. Use `vm0 run continue` to keep working:

```bash
vm0 run continue <session-id> "add user authentication"
```

- Uses latest conversation history
- Uses latest artifact version
- Best for ongoing iterative work

## Frequently Asked Questions

<Accordions className="faq-accordions">

<Accordion title="How do I get the Run ID and Session ID?">

When you run an agent with `vm0 run` or `vm0 cook`, the CLI automatically displays these IDs in the output:

**Run ID** is shown when the run starts:
```
▶ Run started
  Run ID:   11007483-20b2-42b1-8f2a-b42a10186810
  Sandbox:  sbx_def456uvw
```

**Session ID** is shown when the run completes:
```
✓ Run completed successfully
  Checkpoint:    61cddb1f-b83a-4b89-8785-97df099fe61f
  Session:       9907d243-c38a-442b-84ee-efefd4eaff44
  Conversation:  conv_abc123
```

You can use the Run ID to view logs:
```bash
vm0 logs 11007483-20b2-42b1-8f2a-b42a10186810
```

And use the Session ID to continue the conversation:
```bash
vm0 run continue 9907d243-c38a-442b-84ee-efefd4eaff44 "next task"
```

</Accordion>

<Accordion title="What's the difference between Session ID and Checkpoint ID?">

- **Session ID**: References the entire conversation history and latest artifact state. Use `vm0 run continue <session-id>` to continue working with full context.

- **Checkpoint ID**: References a specific point in time during a run. Use `vm0 run resume <checkpoint-id>` to restart from that exact checkpoint.

**Example:**
```bash
# Continue session (uses latest state)
vm0 run continue 9907d243-c38a-442b-84ee-efefd4eaff44 "add new feature"

# Resume from checkpoint (goes back to that point)
vm0 run resume 61cddb1f-b83a-4b89-8785-97df099fe61f "try different approach"
```

</Accordion>

<Accordion title="How do I list all my previous runs?">

Currently, there's no dedicated CLI command to list runs. However, you can:

1. **Check your artifacts** to see what agents have produced:
   ```bash
   vm0 artifact list
   ```

2. **Use the API** to query runs:
   ```bash
   curl -H "Authorization: Bearer $VM0_TOKEN" \
     https://api.vm0.ai/v1/runs
   ```

3. **View in the web dashboard** at [vm0.ai](https://vm0.ai)

</Accordion>

<Accordion title="Can I run an agent without waiting for it to complete?">

Yes! You can run the agent in the background by adding `&` at the end:

```bash
vm0 run my-agent "long task" &
```

The Run ID will be displayed immediately. You can then check the logs later:

```bash
vm0 logs 11007483-20b2-42b1-8f2a-b42a10186810
```

Or use the API to check the run status:

```bash
curl -H "Authorization: Bearer $VM0_TOKEN" \
  https://api.vm0.ai/v1/runs/11007483-20b2-42b1-8f2a-b42a10186810
```

</Accordion>

<Accordion title="How do I pass multiple environment variables?">

**Recommended: Store on Platform**

Store values once and they're automatically loaded on every run:

```bash
vm0 variable set ENV production
vm0 variable set REGION us-west
vm0 secret set API_KEY sk-xxx
vm0 secret set DB_PASSWORD pwd123
```

Then just run:

```bash
vm0 run my-agent "deploy"
```

**Alternative: Pass at Runtime**

For CI/CD or overrides, pass multiple flags:

```bash
vm0 run my-agent "deploy" \
  --vars ENV=production \
  --vars REGION=us-west \
  --secrets API_KEY=sk-xxx \
  --secrets DB_PASSWORD=pwd123
```

See [Environment Variables](/docs/core-concept/environment-variable) for more details.

</Accordion>

<Accordion title="What happens if my agent run fails?">

When a run fails, you'll see an error message:

```
✗ Run failed
  Error: Connection timeout
  (use "vm0 logs 11007483-20b2-42b1-8f2a-b42a10186810 --system" to view system logs)
```

To debug:

1. **Check system logs**:
   ```bash
   vm0 logs 11007483-20b2-42b1-8f2a-b42a10186810 --system
   ```

2. **Review the full output**:
   ```bash
   vm0 logs 11007483-20b2-42b1-8f2a-b42a10186810
   ```

3. **Resume from last checkpoint** (if available):
   ```bash
   vm0 run resume 61cddb1f-b83a-4b89-8785-97df099fe61f "continue"
   ```

See [Debugging](/docs/usage/debugging) for detailed troubleshooting steps.

</Accordion>

</Accordions>
