/* Import Noto Sans and JetBrains Mono from Google Fonts - must be first */
@import url("https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap");

@import "tailwindcss";
@import "@vm0/ui/styles/globals.css";

/* Include @vm0/ui components in Tailwind's content scanning */
@source "../../../../../packages/ui/src/**/*.tsx";

@theme {
  /* Font families */
  --font-family-sans:
    "Noto Sans", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, sans-serif;
  --font-family-mono:
    "JetBrains Mono", ui-monospace, "SF Mono", Monaco, Consolas, monospace;

  /* Sidebar colors - using tokens for dark mode support */
  --color-sidebar: hsl(var(--gray-50));
  --color-sidebar-foreground: hsl(var(--gray-950));
  --color-sidebar-border: hsl(var(--divider));
  --color-sidebar-active: hsl(var(--primary-100));
  --color-sidebar-primary: hsl(var(--primary-800));
  --color-sidebar-accent: hsl(var(--gray-100));
}

@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  body {
    font-family: var(--font-family-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  code,
  pre {
    font-family: var(--font-family-mono);
  }

  /* Global scrollbar styling */
  * {
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
  }

  *:hover {
    scrollbar-color: hsl(var(--muted-foreground) / 0.2) transparent;
  }

  *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: transparent;
    border-radius: 3px;
  }

  *:hover::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.2);
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.3);
  }

  /* Clerk subscription drawer header styling */
  .cl-drawerHeader {
    background-color: hsl(
      var(--gray-50)
    ) !important; /* sidebar color (gray-50) */
    border-bottom: 1px solid hsl(var(--gray-200)) !important; /* border token (gray-200) */
  }
}

/* Markdown preview spacing overrides - outside @layer for higher specificity */

/* Unified spacing for all elements */
.wmde-markdown p,
.wmde-markdown h1,
.wmde-markdown h2,
.wmde-markdown h3,
.wmde-markdown h4,
.wmde-markdown h5,
.wmde-markdown h6,
.wmde-markdown blockquote,
.wmde-markdown ul,
.wmde-markdown ol,
.wmde-markdown dl,
.wmde-markdown table,
.wmde-markdown pre,
.wmde-markdown details {
  margin-top: 6px;
  margin-bottom: 6px;
}

.wmde-markdown li > p {
  margin-top: 0;
  margin-bottom: 0;
}

/* Heading sizes - H1 max 16px, others smaller */
.wmde-markdown h1 {
  font-size: 16px;
  padding-bottom: 0;
  border-bottom: none;
  font-weight: 600;
}

.wmde-markdown h2 {
  font-size: 15px;
  padding-bottom: 0;
  border-bottom: none;
  font-weight: 600;
}

.wmde-markdown h3 {
  font-size: 14px;
  font-weight: 600;
}

.wmde-markdown h4 {
  font-size: 13px;
  font-weight: 600;
}

.wmde-markdown h5 {
  font-size: 12px;
  font-weight: 600;
}

.wmde-markdown h6 {
  font-size: 12px;
  font-weight: 500;
}

/* Reduce list indentation */
.wmde-markdown ul,
.wmde-markdown ol {
  padding-left: 8px;
}

.wmde-markdown ul ul,
.wmde-markdown ol ul,
.wmde-markdown ul ol,
.wmde-markdown ol ol {
  padding-left: 6px;
}

/* Ensure list markers are visible */
.wmde-markdown ul {
  list-style-type: disc;
  padding-left: 20px;
}

.wmde-markdown ol {
  list-style-type: decimal;
  padding-left: 24px;
}

.wmde-markdown ul ul {
  list-style-type: circle;
  padding-left: 18px;
}

.wmde-markdown ol ol {
  list-style-type: lower-alpha;
  padding-left: 22px;
}

/* Reduce blockquote indentation */
.wmde-markdown blockquote {
  padding-left: 6px;
}

/* Table styling for light/dark mode visibility */
.wmde-markdown table {
  border-collapse: collapse;
  width: 100%;
  display: block;
  overflow-x: auto;
}

.wmde-markdown table th,
.wmde-markdown table td {
  border-bottom: 1px solid hsl(var(--border));
  padding: 6px 12px;
  text-align: left;
  color: hsl(var(--foreground));
}

.wmde-markdown table th {
  font-weight: 600;
  border-bottom-width: 2px;
}

/* Override library color variables to match our theme */
.wmde-markdown {
  --color-fg-default: hsl(var(--foreground));
  --color-fg-muted: hsl(var(--muted-foreground));
  --color-canvas-default: transparent;
  --color-canvas-subtle: hsl(var(--gray-50));
  --color-border-default: hsl(var(--border));
}

/* Code block styling */
.wmde-markdown pre {
  overflow-x: auto;
}

/* Details/summary animation */
details > summary {
  transition: color 0.15s ease;
}

details > summary > span:first-child {
  display: inline-block;
  transition: transform 0.15s ease;
}

details[open] > summary > span:first-child {
  transform: rotate(90deg);
}
