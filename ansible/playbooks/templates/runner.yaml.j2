# VM0 Runner Configuration
# Generated by Ansible - do not edit manually

name: vm0-runner-{{ inventory_hostname | regex_replace('[^a-zA-Z0-9]', '-') }}-{{ runner_suffix }}
group: {{ runner_group }}
base_dir: {{ runner_base_dir }}

server:
  url: {{ api_url }}
  token: vm0_official_{{ official_runner_secret }}

sandbox:
  max_concurrent: {{ max_concurrent | default(8) }}
  vcpu: {{ vcpu }}
  memory_mb: {{ memory_mb }}
  poll_interval_ms: {{ poll_interval_ms | default(30000) }}

firecracker:
  binary: /usr/local/bin/firecracker
  kernel: /opt/firecracker/vmlinux
  rootfs: {{ rootfs_path }}
{% if enable_snapshot %}
  snapshot:
    snapshot: {{ snapshot_path }}/snapshot.bin
    memory: {{ snapshot_path }}/memory.bin
    overlay: {{ snapshot_path }}/overlay.ext4
{% endif %}

proxy:
  port: {{ proxy_port }}
  ca_dir: {{ runner_base_dir }}/proxy
